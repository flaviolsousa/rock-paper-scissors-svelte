import{S as V,i as R,s as A,k as p,q as D,a as w,l as v,m as g,r as M,h as _,c as S,n as d,b as y,E as h,u as F,F as P,G as b,L as ue,M as z,N as T,O as fe,P as de,Q as _e,y as N,z as U,A as G,g as k,v as X,d as E,f as Z,B as q,o as he,R as me}from"../chunks/index.d7250d22.js";import{w as O}from"../chunks/index.ea0150b1.js";const x=""+new URL("../assets/paper-1.ae421a78.svg",import.meta.url).href,pe=""+new URL("../assets/paper-2.e127d71f.svg",import.meta.url).href,ve=""+new URL("../assets/rock-1.769ab966.svg",import.meta.url).href,ee=""+new URL("../assets/rock-2.f6200a89.svg",import.meta.url).href,te=""+new URL("../assets/scissor-1.0f0f0a69.svg",import.meta.url).href,ge=""+new URL("../assets/scissor-2.7ef22b89.svg",import.meta.url).href,I=[{id:0,alt:"Paper Button",srcP1:x,srcP2:pe,src:x,win:1,loss:2},{id:1,alt:"Rock Button",srcP1:ve,srcP2:ee,src:ee,win:2,loss:0},{id:2,alt:"Scissor Button",srcP1:te,srcP2:ge,src:te,win:0,loss:1}],Q=6,$e=5,ke=Q+$e,L=0,B=1;function Ee(a){return a[Math.floor(Math.random()*a.length)]}const oe=O(0),ie=O(0),C=O(null),W=O(null),H=O(L),Y=O(Q);C.subscribe(a=>{if(!a)return;const t=I[a.win],s=I[a.loss],l=Ee([a,t,t,s,s]);W.set(l)});function be(a){let t,s,e,l,o,n,r,i,c,u;return{c(){t=p("div"),s=p("div"),e=p("span"),l=D(a[0]),o=w(),n=p("span"),r=D(":"),i=w(),c=p("span"),u=D(a[1]),this.h()},l(f){t=v(f,"DIV",{class:!0});var m=g(t);s=v(m,"DIV",{class:!0});var $=g(s);e=v($,"SPAN",{class:!0});var j=g(e);l=M(j,a[0]),j.forEach(_),o=S($),n=v($,"SPAN",{class:!0});var J=g(n);r=M(J,":"),J.forEach(_),i=S($),c=v($,"SPAN",{class:!0});var K=g(c);u=M(K,a[1]),K.forEach(_),$.forEach(_),m.forEach(_),this.h()},h(){d(e,"class","point svelte-1gkuru7"),d(n,"class","separator"),d(c,"class","point svelte-1gkuru7"),d(s,"class","score-label svelte-1gkuru7"),d(t,"class","score-container svelte-1gkuru7")},m(f,m){y(f,t,m),h(t,s),h(s,e),h(e,l),h(s,o),h(s,n),h(n,r),h(s,i),h(s,c),h(c,u)},p(f,[m]){m&1&&F(l,f[0]),m&2&&F(u,f[1])},i:P,o:P,d(f){f&&_(t)}}}function we(a,t,s){let e,l;return b(a,oe,o=>s(0,e=o)),b(a,ie,o=>s(1,l=o)),[e,l]}class Se extends V{constructor(t){super(),R(this,t,we,be,A,{})}}function se(a,t,s){const e=a.slice();return e[1]=t[s],e[3]=s,e}function le(a){let t,s,e,l,o,n;return{c(){t=p("div"),s=p("img"),o=w(),this.h()},l(r){t=v(r,"DIV",{class:!0});var i=g(t);s=v(i,"IMG",{src:!0,alt:!0,class:!0}),o=S(i),i.forEach(_),this.h()},h(){z(s.src,e=a[0][a[3]].selected["srcP"+a[1].id])||d(s,"src",e),d(s,"alt",l=a[0][a[3]].selected.alt),d(s,"class","svelte-x84746"),d(t,"class",n="player p"+a[1].id+" svelte-x84746"),T(t,"waiting",a[0][a[3]].selected==null),T(t,"selected",a[0][a[3]].selected!=null)},m(r,i){y(r,t,i),h(t,s),h(t,o)},p(r,i){i&1&&!z(s.src,e=r[0][r[3]].selected["srcP"+r[1].id])&&d(s,"src",e),i&1&&l!==(l=r[0][r[3]].selected.alt)&&d(s,"alt",l),i&1&&n!==(n="player p"+r[1].id+" svelte-x84746")&&d(t,"class",n),i&1&&T(t,"waiting",r[0][r[3]].selected==null),i&1&&T(t,"selected",r[0][r[3]].selected!=null)},d(r){r&&_(t)}}}function ye(a){let t,s=a[0],e=[];for(let l=0;l<s.length;l+=1)e[l]=le(se(a,s,l));return{c(){t=p("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=v(l,"DIV",{class:!0});var o=g(t);for(let n=0;n<e.length;n+=1)e[n].l(o);o.forEach(_),this.h()},h(){d(t,"class","versus svelte-x84746")},m(l,o){y(l,t,o);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(t,null)},p(l,[o]){if(o&1){s=l[0];let n;for(n=0;n<s.length;n+=1){const r=se(l,s,n);e[n]?e[n].p(r,o):(e[n]=le(r),e[n].c(),e[n].m(t,null))}for(;n<e.length;n+=1)e[n].d(1);e.length=s.length}},i:P,o:P,d(l){l&&_(t),ue(e,l)}}}function Pe(a,t,s){let e=[{id:1,selected:null},{id:2,selected:null}];return C.subscribe(l=>{s(0,e[0].selected=l,e),s(0,e)}),W.subscribe(l=>{s(0,e[1].selected=l,e),s(0,e)}),[e]}class Te extends V{constructor(t){super(),R(this,t,Pe,ye,A,{})}}function Ce(a){let t,s,e,l=a[0]-1+"",o;return{c(){t=p("div"),s=p("div"),e=p("span"),o=D(l),this.h()},l(n){t=v(n,"DIV",{class:!0});var r=g(t);s=v(r,"DIV",{class:!0});var i=g(s);e=v(i,"SPAN",{class:!0});var c=g(e);o=M(c,l),c.forEach(_),i.forEach(_),r.forEach(_),this.h()},h(){d(e,"class","svelte-cw420c"),d(s,"class","counter svelte-cw420c"),d(t,"class","count-versus-container svelte-cw420c")},m(n,r){y(n,t,r),h(t,s),h(s,e),h(e,o)},p(n,[r]){r&1&&l!==(l=n[0]-1+"")&&F(o,l)},i:P,o:P,d(n){n&&_(t)}}}function Ie(a,t,s){let e;return b(a,Y,l=>s(0,e=l)),[e]}class Le extends V{constructor(t){super(),R(this,t,Ie,Ce,A,{})}}function ne(a,t,s){const e=a.slice();return e[4]=t[s],e}function re(a,t){let s,e,l,o,n,r,i;function c(){return t[3](t[4])}return{key:a,first:null,c(){s=p("div"),e=p("button"),l=p("img"),n=w(),this.h()},l(u){s=v(u,"DIV",{class:!0});var f=g(s);e=v(f,"BUTTON",{class:!0});var m=g(e);l=v(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(_),n=S(f),f.forEach(_),this.h()},h(){var u;z(l.src,o=t[4].src)||d(l,"src",o),d(l,"alt",t[4].alt),d(l,"class","svelte-19wud9l"),d(e,"class","background svelte-19wud9l"),T(e,"selected",t[4].id==((u=t[1])==null?void 0:u.id)),T(e,"scoring",t[0]==B),d(s,"class","command svelte-19wud9l"),this.first=s},m(u,f){y(u,s,f),h(s,e),h(e,l),h(s,n),r||(i=de(e,"click",c),r=!0)},p(u,f){var m;t=u,f&2&&T(e,"selected",t[4].id==((m=t[1])==null?void 0:m.id)),f&1&&T(e,"scoring",t[0]==B)},d(u){u&&_(s),r=!1,i()}}}function Ve(a){let t,s=[],e=new Map,l=I;const o=n=>n[4].id;for(let n=0;n<l.length;n+=1){let r=ne(a,l,n),i=o(r);e.set(i,s[n]=re(i,r))}return{c(){t=p("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){t=v(n,"DIV",{class:!0});var r=g(t);for(let i=0;i<s.length;i+=1)s[i].l(r);r.forEach(_),this.h()},h(){d(t,"class","commands svelte-19wud9l")},m(n,r){y(n,t,r);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(t,null)},p(n,[r]){r&7&&(l=I,s=fe(s,r,o,1,n,l,e,t,_e,re,null,ne))},i:P,o:P,d(n){n&&_(t);for(let r=0;r<s.length;r+=1)s[r].d()}}}function Re(a,t,s){let e,l;b(a,H,r=>s(0,e=r)),b(a,C,r=>s(1,l=r));function o(r){e==L&&C.set(r)}return[e,l,o,r=>o(r)]}class Ae extends V{constructor(t){super(),R(this,t,Re,Ve,A,{})}}function ae(a){let t,s;return t=new Le({}),{c(){N(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,l){G(t,e,l),s=!0},i(e){s||(k(t.$$.fragment,e),s=!0)},o(e){E(t.$$.fragment,e),s=!1},d(e){q(t,e)}}}function ce(a){let t,s;return t=new Te({}),{c(){N(t.$$.fragment)},l(e){U(t.$$.fragment,e)},m(e,l){G(t,e,l),s=!0},i(e){s||(k(t.$$.fragment,e),s=!0)},o(e){E(t.$$.fragment,e),s=!1},d(e){q(t,e)}}}function Oe(a){let t,s,e,l,o,n,r,i;e=new Se({}),o=new Ae({});let c=a[0]==L&&ae(),u=a[0]==B&&ce();return{c(){t=p("div"),s=p("div"),N(e.$$.fragment),l=w(),N(o.$$.fragment),n=w(),c&&c.c(),r=w(),u&&u.c(),this.h()},l(f){t=v(f,"DIV",{class:!0});var m=g(t);s=v(m,"DIV",{class:!0});var $=g(s);U(e.$$.fragment,$),l=S($),U(o.$$.fragment,$),n=S($),c&&c.l($),r=S($),u&&u.l($),$.forEach(_),m.forEach(_),this.h()},h(){d(s,"class","game svelte-rbp5iq"),d(t,"class","container svelte-rbp5iq")},m(f,m){y(f,t,m),h(t,s),G(e,s,null),h(s,l),G(o,s,null),h(s,n),c&&c.m(s,null),h(s,r),u&&u.m(s,null),i=!0},p(f,[m]){f[0]==L?c?m&1&&k(c,1):(c=ae(),c.c(),k(c,1),c.m(s,r)):c&&(X(),E(c,1,1,()=>{c=null}),Z()),f[0]==B?u?m&1&&k(u,1):(u=ce(),u.c(),k(u,1),u.m(s,null)):u&&(X(),E(u,1,1,()=>{u=null}),Z())},i(f){i||(k(e.$$.fragment,f),k(o.$$.fragment,f),k(c),k(u),i=!0)},o(f){E(e.$$.fragment,f),E(o.$$.fragment,f),E(c),E(u),i=!1},d(f){f&&_(t),q(e),q(o),c&&c.d(),u&&u.d()}}}function De(a,t,s){let e,l,o,n;b(a,Y,c=>s(1,e=c)),b(a,C,c=>s(2,l=c)),b(a,H,c=>s(0,o=c)),b(a,W,c=>s(3,n=c));function r(){l.win==n.id?oe.update(c=>c+1):l.loss==n.id&&ie.update(c=>c+1)}function i(){Y.update(c=>c-1),o===L?e==0&&(l==null&&C.set(I[Math.floor(Math.random()*I.length)]),H.set(B),Y.set(ke),r()):e==Q&&(C.set(null),H.set(L)),setTimeout(()=>{i()},1e3)}return he(()=>{setTimeout(()=>{i()},1e3)}),[o]}class Me extends V{constructor(t){super(),R(this,t,De,Oe,A,{})}}function Ne(a){let t,s,e,l,o,n,r,i;return r=new Me({}),{c(){t=p("meta"),s=w(),e=p("session"),l=p("h1"),o=D("Paper Rock Scissor"),n=w(),N(r.$$.fragment),this.h()},l(c){const u=me("svelte-16xbyve",document.head);t=v(u,"META",{name:!0,content:!0}),u.forEach(_),s=S(c),e=v(c,"SESSION",{class:!0});var f=g(e);l=v(f,"H1",{class:!0});var m=g(l);o=M(m,"Paper Rock Scissor"),m.forEach(_),n=S(f),U(r.$$.fragment,f),f.forEach(_),this.h()},h(){document.title="Home",d(t,"name","description"),d(t,"content","First Svelte App"),d(l,"class","svelte-13gpdlv"),d(e,"class","svelte-13gpdlv")},m(c,u){h(document.head,t),y(c,s,u),y(c,e,u),h(e,l),h(l,o),h(e,n),G(r,e,null),i=!0},p:P,i(c){i||(k(r.$$.fragment,c),i=!0)},o(c){E(r.$$.fragment,c),i=!1},d(c){_(t),c&&_(s),c&&_(e),q(r)}}}class qe extends V{constructor(t){super(),R(this,t,null,Ne,A,{})}}export{qe as default};
